!function(){"use strict";var n=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,e=2;angular.module("fiestah.money",[]).directive("money",["$parse","$filter","$locale",function(r,i,u){function t(t,a,o,s){function l(n){var e=Math.pow(10,g);return Math.round(n*e)/e}function c(){return!isNaN(g)&&g>-1}function f(n){return n=d(n),angular.isNumber(n)&&!isNaN(n)}function $(){var n=s.$modelValue;f(n)&&c()&&(s.$modelValue=l(n),r(o.ngModel).assign(t,s.$modelValue),p(m(n)),M=s.$viewValue)}function d(n){return angular.isNumber(n)||(n=n.replace(u.NUMBER_FORMATS.GROUP_SEP,""),n=n.replace(u.NUMBER_FORMATS.DECIMAL_SEP,".")),n}function m(n){return i("number")(n,g)}function p(n){s.$viewValue=n,s.$commitViewValue(),s.$render()}var v,N,g,M,b=angular.isDefined,V=angular.isUndefined,E=angular.isNumber;s.$parsers.push(function(e){if(s.$isEmpty(e))return M=e,null;if(e=d(e),0===e.indexOf(".")&&(e="0"+e),0===e.indexOf("-")){if(v>=0)return p(""),null;if("-"===e||"-."===e)return null}return n.test(e)?(M=e,parseFloat(e)):(p(M),M)}),s.$validators.min=function(n){return s.$isEmpty(n)||V(v)||n>=v},b(o.min)||o.ngMin?o.$observe("min",function(n){b(n)&&!E(n)&&(n=parseFloat(n,10)),v=E(n)&&!isNaN(n)?n:void 0,s.$validate()}):v=0,(b(o.max)||o.ngMax)&&(s.$validators.max=function(n){return s.$isEmpty(n)||V(N)||n<=N},o.$observe("max",function(n){b(n)&&!E(n)&&(n=parseFloat(n,10)),N=E(n)&&!isNaN(n)?n:void 0,s.$validate()})),b(o.precision)?(g=parseInt(o.precision,10),o.$observe("precision",function(n){g=parseInt(n,10),$()})):g=e,s.$parsers.push(function(n){return n&&(n=c()?l(n):n),n}),s.$formatters.push(function(n){return b(n)?c()&&f(n)?m(n):n:""}),a.bind("blur",function(){s.$commitViewValue(),$()})}return{restrict:"A",require:"ngModel",link:t}}])}();
//# sourceMappingURL=angular-money-directive.min.js.map
